var e=require("react"),n=require("react-ssr-prepass"),t=require("urql");function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(e),a=r(n);function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var o,l=null;function s(){l=null}function c(){return null}function p(e,n){var r="undefined"==typeof window;return!r&&l||((l=t.createClient(u({},e,{suspense:n&&(r||e.suspense)}))).toJSON=c),l}function f(){}exports.initUrqlClient=p,exports.withUrqlClient=function(n,r){return r||(r={}),function(l){var c=Boolean((l.getInitialProps||r.ssr)&&!r.neverSuspend),h=function(r){var a=r.pageProps,f=r.urqlClient,h=r.urqlState,v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(r,["pageProps","urqlClient","urqlState"]),d=e.useState(0),g=a&&a.urqlState||h,q=i.useMemo((function(){if(f)return f;o&&"undefined"!=typeof window||(o=t.ssrExchange({initialState:g,isClient:!0}));var e=n(o);return e.exchanges||(e.exchanges=[t.dedupExchange,t.cacheExchange,o,t.fetchExchange]),p(e,c)}),[f,g,d[0]]);return e.createElement(t.Provider,{value:q},e.createElement(l,u({},v,{pageProps:a,urqlClient:q,resetUrqlClient:function(){s(),o=t.ssrExchange({initialState:void 0}),d[1](d[0]+1)}})))};return h.displayName="withUrqlClient("+(l.displayName||l.name||"Component")+")",(l.getInitialProps||r.ssr)&&(h.getInitialProps=function(i){function o(){return u({},P,{urqlState:g?g.extractData():void 0,urqlClient:x})}function s(){if("undefined"!=typeof window)return u({},P,{urqlClient:x});var n=u({},P,{urqlClient:x}),t=v?n:{pageProps:n};const i=function(){if(!r.neverSuspend)return Promise.resolve(a(e.createElement(h,t))).then(f)}();return i&&i.then?i.then(o):o()}function c(e){P=e}try{var h=i.AppTree,v=!!i.Component,d=v?i.ctx:i,g=t.ssrExchange({initialState:void 0}),q=n(g,d);q.exchanges||(q.exchanges=[t.dedupExchange,t.cacheExchange,g,t.fetchExchange]);var x=p(q,!r.neverSuspend);x&&(d.urqlClient=x);var P={};const e=function(){if(l.getInitialProps)return Promise.resolve(l.getInitialProps(i)).then(c)}();return Promise.resolve(e&&e.then?e.then(s):s())}catch(e){return Promise.reject(e)}}),h}};
//# sourceMappingURL=next-urql.min.js.map
