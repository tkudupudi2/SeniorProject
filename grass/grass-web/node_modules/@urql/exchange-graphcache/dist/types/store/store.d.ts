import { DocumentNode } from 'graphql';
import { TypedDocumentNode } from '@urql/core';
import { Cache, FieldInfo, ResolverConfig, DataField, Variables, Data, QueryInput, UpdatesConfig, UpdateResolver, OptimisticMutationConfig, KeyingConfig } from '../types';
import * as InMemoryData from './data';
import { IntrospectionData, SchemaIntrospector } from '../ast';
declare type RootField = 'query' | 'mutation' | 'subscription';
export interface StoreOpts {
    updates?: Partial<UpdatesConfig>;
    resolvers?: ResolverConfig;
    optimistic?: OptimisticMutationConfig;
    keys?: KeyingConfig;
    schema?: IntrospectionData;
}
export declare class Store implements Cache {
    data: InMemoryData.InMemoryData;
    resolvers: ResolverConfig;
    updates: Record<string, Record<string, UpdateResolver>>;
    optimisticMutations: OptimisticMutationConfig;
    keys: KeyingConfig;
    schema?: SchemaIntrospector;
    rootFields: {
        query: string;
        mutation: string;
        subscription: string;
    };
    rootNames: {
        [name: string]: RootField;
    };
    constructor(opts?: StoreOpts);
    keyOfField: (fieldName: string, args?: Variables | null | undefined) => string;
    keyOfEntity(data: Data | null | string): string | null;
    resolve(entity: Data | string | null, field: string, args?: Variables): DataField;
    resolveFieldByKey: (entity: Data | string | null, field: string, args?: Variables | undefined) => DataField;
    invalidate(entity: Data | string | null, field?: string, args?: Variables | null): void;
    inspectFields(entity: Data | string | null): FieldInfo[];
    updateQuery<T = Data, V = Variables>(input: QueryInput<T, V>, updater: (data: T | null) => T | null): void;
    readQuery<T = Data, V = Variables>(input: QueryInput<T, V>): T | null;
    readFragment<T = Data, V = Variables>(fragment: DocumentNode | TypedDocumentNode<T, V>, entity: string | Data | T, variables?: V): T | null;
    writeFragment<T = Data, V = Variables>(fragment: DocumentNode | TypedDocumentNode<T, V>, data: T, variables?: V): void;
}
export {};
