import{make as r}from"wonka";import{GraphQLError as e}from"graphql/error/GraphQLError.mjs";import{Kind as n}from"graphql/language/kinds.mjs";import{parse as t}from"graphql/language/parser.mjs";import{print as o}from"graphql/language/printer.mjs";function i(r){return"string"==typeof r?new e(r):"object"==typeof r&&r.message?new e(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):r}function s(){return this.message}var a=function(r){function e(e){var n=e.networkError,t=e.response,o=function(r,e){var n="";return void 0!==r?n="[Network] "+r.message:(void 0!==e&&e.forEach((function(r){n+="[GraphQL] "+r.message+"\n"})),n.trim())}(n,e=(e.graphQLErrors||[]).map(i));r.call(this,o),this.name="CombinedError",this.message=o,this.graphQLErrors=e,this.networkError=n,this.response=t}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.toString=s,e}(Error);function u(r,e){r|=0;for(var n=0,t=0|e.length;n<t;n++)r=(r<<5)+r+e.charCodeAt(n);return r}var c=new Set,f=new WeakMap;function p(r){if(null===r||c.has(r))return"null";if("object"!=typeof r)return JSON.stringify(r)||"";if(r.toJSON)return p(r.toJSON());if(Array.isArray(r)){for(var e="[",n=0,t=r.length;n<t;n++){0<n&&(e+=",");var o=p(r[n]);e+=0<o.length?o:"null"}return e+"]"}if(!(e=Object.keys(r).sort()).length&&r.constructor&&r.constructor!==Object)return e=f.get(r)||Math.random().toString(36).slice(2),f.set(r,e),'{"__key":"'+e+'"}';for(c.add(r),n="{",t=0,o=e.length;t<o;t++){var i=e[t],s=p(r[i]);s&&(1<n.length&&(n+=","),n+=p(i)+":"+s)}return c.delete(r),n+"}"}function l(r){return c.clear(),p(r)}function h(r){var e=("string"!=typeof r?r.loc&&r.loc.source.body||o(r):r).replace(/([\s,]|#[^\n\r]+)+/g," ").trim();return"string"!=typeof r&&(r.loc?(r="definitions"in r&&m(r))&&(e="# "+r+"\n"+e):r.loc={start:0,end:e.length,source:{body:e,name:"gql",locationOffset:{line:1,column:1}}}),e}var g=new Map;function d(r){if("string"==typeof r){var e=u(5381,h(r))>>>0;r=g.get(e)||t(r,{noLocation:!0})}else e=r.__key||u(5381,h(r))>>>0,r=g.get(e)||r;return r.loc||h(r),r.__key=e,g.set(e,r),r}function m(r){for(var e=0,t=r.definitions.length;e<t;e++){var o=r.definitions[e];if(o.kind===n.OPERATION_DEFINITION&&o.name)return o.name.value}}function y(r,e,n){return{operation:r,data:e.data,error:Array.isArray(e.errors)?new a({graphQLErrors:e.errors,response:n}):void 0,extensions:"object"==typeof e.extensions&&e.extensions||void 0}}function v(r,e,n){return{operation:r,data:void 0,error:new a({networkError:e,response:n}),extensions:void 0}}function b(){return(b=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n,t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function x(r){return{query:o(r.query),operationName:m(r.query),variables:r.variables||void 0,extensions:void 0}}function k(r,e){var n=r.context.url;return"query"===r.kind&&r.context.preferGetMethod&&e?(r=[],e.operationName&&r.push("operationName="+encodeURIComponent(e.operationName)),e.query&&r.push("query="+encodeURIComponent(e.query.replace(/([\s,]|#[^\n\r]+)+/g," ").trim())),e.variables&&r.push("variables="+encodeURIComponent(l(e.variables))),e.extensions&&r.push("extensions="+encodeURIComponent(l(e.extensions))),n+"?"+r.join("&")):n}function O(r,e){var n="query"===r.kind&&!!r.context.preferGetMethod;return b({},r="function"==typeof r.context.fetchOptions?r.context.fetchOptions():r.context.fetchOptions||{},{body:!n&&e?JSON.stringify(e):void 0,method:n?"GET":"POST",headers:n?r.headers:b({},{"content-type":"application/json"},r.headers)})}function E(e,n,t){return r((function(r){var o=r.next,i=r.complete,s="undefined"!=typeof AbortController?new AbortController:null,a=!1;return Promise.resolve().then((function(){if(!a)return s&&(t.signal=s.signal),function(r,e,n){var t,o=!1;return(r.context.fetch||fetch)(e,n).then((function(r){return t=r,o=200>r.status||r.status>=("manual"===n.redirect?400:300),r.json()})).then((function(e){if(!("data"in e)&&!("errors"in e))throw Error("No Content");return y(r,e,t)})).catch((function(e){if("AbortError"!==e.name)return v(r,o?Error(t.statusText):e,t)}))}(e,n,t)})).then((function(r){a||(a=!0,r&&o(r),i())})),function(){a=!0,s&&s.abort()}}))}function _(r,e){return r=d(r),{key:e?u(r.__key,l(e))>>>0:r.__key,query:r,variables:e||{}}}export{a as C,b as _,v as a,x as b,k as c,O as d,E as e,_ as f,l as g,m as h,d as k,y as m,h as s};
//# sourceMappingURL=70b0ab30.min.mjs.map
